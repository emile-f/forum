{"version":3,"sources":["serviceWorker.js","service/cookie.service.js","service/user.service.js","components/authenticated-route/index.js","config/env.js","views/stats/index.js","api/user.js","api/location.js","service/helper.js","components/thread/index.js","components/thread-list/index.js","components/page-head/index.js","components/search-bar/index.js","views/feed/index.js","api/thread.js","components/post/index.js","components/post-list/index.js","components/new-post/index.js","views/thread/index.js","views/not-found/index.js","views/new-thread/index.js","components/sign-in/index.js","components/sign-up/index.js","views/authenticate/index.js","components/header/index.js","components/footer/index.js","index.js"],"names":["Boolean","window","location","hostname","match","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","addUser","user","Object","assign","currentUser","JSON","stringify","logOut","href","initialLoad","withRouter","Component","component","rest","render","props","id","to","pathname","state","from","environment","api","Map","lazy","Stats","useState","stats","setStats","locations","setLocations","dataAvailable","setDataAvailable","loader","type","color","height","width","className","useEffect","a","promiseArray","axios","get","env","Promise","all","forEach","response","data","Array","isArray","console","error","getData","userCount","threadCount","postCount","fallback","Color","require","convertDateToFromNow","date","moment","fromNow","Thread","setDate","thread","created","htmlContent","titleOfPage","subject","name","tags","length","map","tag","index","key","count","clickable","threadId","ThreadList","listItems","threads","Fragment","PageHead","title","SearchBar","inputRef","useRef","SearchButtonRef","triggerEvent","event","keyCode","preventDefault","current","click","addEventListener","removeEventListener","ref","alt","placeholder","aria-label","value","onChange","onSearch","target","onClick","search","Feed","setThreads","searchThreads","setSearchThreads","visibleThreads","setVisibleThreads","searchDone","setSearchDone","searchTerm","setSearchTerm","currentPage","setCurrentPage","offset","handlePageClick","selectedPage","selected","currentPageData","slice","then","catch","err","term","searchAllThreads","previousLabel","nextLabel","pageCount","Math","ceil","onPageChange","containerClassName","previousLinkClassName","nextLinkClassName","disabledClassName","activeClassName","Post","dateUser","setDateUser","setColor","format","convertDate","post","str","saturation","hash","i","_charCode","charCodeAt","backgroundColor","rgb","isDark","getRandomBackgroundColor","style","substring","content","PostList","posts","message","setMessage","undefined","setError","setThreadId","setLocation","needToLogin","setNeedToLogin","htmlFor","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","long","longitude","payload","userId","addPost","status","active","success","setId","redirectToHome","setRedirectToHome","threadLoaded","setThreadLoaded","setThread","setPosts","visiblePosts","setVisiblePosts","params","getThread","temp","getElementById","scrollIntoView","NotFound","setSubject","setTags","redirect","setRedirect","inputProps","addThread","Login","username","setUsername","password","setPassword","changeMode","autoFocus","pass","sha256","toString","signInUser","email","Register","setEmail","signUpUser","hashed_password","login","setLogin","redirectToReferrer","setRedirectToReferrer","loginSuccess","changeLoginMode","role","Footer","windowHeight","setWindowHeight","forumHeight","setForumHeight","setClassName","setWindow","innerHeight","observer","ResizeObserver","entries","cr","contentRect","top","forumBody","observe","unobserve","ca","decodeURIComponent","split","c","charAt","indexOf","getCookie","parse","log","getUser","ReactDOM","StrictMode","exact","path","NewThread","Authenticate","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f41b2af9.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const setCookie = (cname, cvalue, exdays) => {\n  var d = new Date();\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n  var expires = \"expires=\" + d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n};\n\nconst getCookie = (cname) => {\n  var name = cname + \"=\";\n  var decodedCookie = decodeURIComponent(document.cookie);\n  var ca = decodedCookie.split(\";\");\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) === \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) === 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n};\n\nconst deleteCookie = (cname) => {\n  setCookie(cname, null, -1);\n};\n\nexport { setCookie, getCookie, deleteCookie };\n","import { deleteCookie, getCookie, setCookie } from \"./cookie.service\";\nconst COOKIE_NAME = \"forum-user\";\n// Should have the following properties\n/*\n    this.id \n    this.name\n    this.created\n    this.updated\n    this.email\n    this.active\n*/\n\nconst addUser = (user) => {\n  Object.assign(currentUser, user);\n  setCookie(COOKIE_NAME, JSON.stringify(currentUser), 1);\n};\n\nconst getUser = () => {\n  if (!initialLoad) {\n    let cookie = getCookie(COOKIE_NAME);\n    if (cookie) {\n      try {\n        cookie = JSON.parse(cookie);\n      } catch (error) {\n        console.log(\"Failed to load cached user\");\n      }\n      addUser(cookie);\n    }\n    initialLoad = true;\n  }\n  return currentUser;\n};\n\nconst logOut = () => {\n  Object.assign(currentUser);\n  deleteCookie(COOKIE_NAME);\n  window.location.href = \"/\";\n};\n\nlet initialLoad = false;\nconst currentUser = {};\n\nexport { currentUser, addUser, getUser, logOut };\n","// React router AuthenticatedRoute\n// https://stackoverflow.com/questions/48954262/react-router-force-to-another-page-if-a-variable-doesnt-exist\n\nimport React from \"react\";\nimport { Route, Redirect, withRouter } from \"react-router-dom\";\nimport { currentUser } from \"../../service/user.service\";\n\nconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      currentUser.id ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/login\",\n            state: { from: props.location },\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default withRouter(AuthenticatedRoute);\n","const environment = {};\n\nenvironment[\"development\"] = {\n  api: \"https://webdev-forum-backend.herokuapp.com\",\n};\n\nenvironment[\"production\"] = {\n  api: \"https://webdev-forum-backend.herokuapp.com\",\n};\n\nexport default environment;\n","import React, { useState, useEffect, lazy, Suspense } from \"react\";\nimport \"./stats.css\";\nimport Loader from \"react-loader-spinner\";\nimport { getUserStats } from \"../../api/user\";\nimport { getLocations } from \"../../api/location\";\n// import Map from \"../../components/map\";\nconst Map = lazy(() => import(\"../../components/map\"));\n\nconst Stats = (props) => {\n  const [stats, setStats] = useState({});\n  const [locations, setLocations] = useState([]);\n  const [dataAvailable, setDataAvailable] = useState(false);\n\n  const loader = (\n    <Loader\n      type=\"Puff\"\n      color=\"#4f5d75\"\n      height={100}\n      width={100}\n      className=\"loader\"\n    />\n  );\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        const promiseArray = [getUserStats(), getLocations()];\n        const data = await Promise.all(promiseArray);\n\n        // go over all requests\n        data.forEach((response) => {\n          if (response && response.data) {\n            if (Array.isArray(response.data)) {\n              // locations\n              setLocations(response.data);\n            } else {\n              setStats(response.data);\n            }\n          }\n          // Let UI know that the users are available\n          setDataAvailable(true);\n        });\n      } catch (error) {\n        console.error(\"Failed to get user stats\");\n      }\n    };\n    getData();\n  }, []);\n\n  return (\n    <div className=\"stats\">\n      <h1>Forum stats:</h1>\n      <div className=\"container\">\n        {\n          // Show loader until we load the user list\n          dataAvailable ? (\n            <div className=\"data\">\n              <ul>\n                <li>Users: {stats.userCount}</li>\n                <li>Threads: {stats.threadCount}</li>\n                <li>Posts: {stats.postCount}</li>\n              </ul>\n              <Suspense fallback={loader}>\n                <Map locations={locations} />\n              </Suspense>\n            </div>\n          ) : (\n            loader\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default Stats;\n","import axios from \"axios\";\nimport env from \"../config/env\";\n\n// Api call to get all users from the database\n// mostly used for debugging and admin purposes\n// Get env api -> production: deployed database\n// development -> localhost database\nexport const getUserStats = () => {\n  return axios.get(env[process.env.NODE_ENV].api + \"/accounts/stats\");\n};\n\nexport const signInUser = (payload) => {\n  return axios.post(\n    env[process.env.NODE_ENV].api + \"/accounts/signin\",\n    payload\n  );\n};\n\nexport const signUpUser = (payload) => {\n  return axios.post(\n    env[process.env.NODE_ENV].api + \"/accounts/signup\",\n    payload\n  );\n};\n","import axios from \"axios\";\nimport env from \"../config/env\";\n\nexport const getLocations = () => {\n  return axios.get(env[process.env.NODE_ENV].api + \"/location/all\");\n};\n","import * as moment from \"moment\";\nvar Color = require(\"color\");\n\nexport const convertDateToFromNow = (date) => {\n  return moment(date).fromNow();\n};\n\nexport const convertDate = (date) => {\n  return moment(date).format(\"MMMM Do YYYY, h:mm:ss a\");\n};\n\nexport const getRandomBackgroundColor = (str) => {\n  var saturation = 0;\n  var hash = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    const _charCode = str.charCodeAt(i);\n    saturation = (saturation + _charCode) % 100;\n    hash = _charCode + ((hash << 5) - hash);\n  }\n\n  var light = (saturation * saturation) % 100;\n\n  var hue = hash % 360;\n\n  const color = Color(\"hsl(\" + hue + \", \" + saturation + \"%, \" + light + \"%)\");\n\n  const style = {\n    backgroundColor: color.rgb(),\n    color: color.isDark() ? \"white\" : \"black\",\n  };\n  return style;\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"./thread.css\";\nimport { Link } from \"react-router-dom\";\nimport { convertDateToFromNow } from \"../../service/helper\";\n\nconst Thread = (props) => {\n  const [date, setDate] = useState(\"\");\n\n  const initialSetup = () => {\n    setDate(convertDateToFromNow(props.thread.created));\n  };\n\n  useEffect(initialSetup, []);\n\n  const htmlContent = (\n    <div className=\"container\">\n      <div className=\"content\">\n        <div className=\"subject\">\n          {props.titleOfPage ? (\n            <h1>{props.thread.subject}</h1>\n          ) : (\n            <h2>{props.thread.subject}</h2>\n          )}\n        </div>\n        <div className=\"date\">\n          Created by {props.thread.user.name} {date}\n        </div>\n        <div className=\"tags\">\n          Tags:{\" \"}\n          {props.thread.tags &&\n          props.thread.tags.length &&\n          Array.isArray(props.thread.tags)\n            ? props.thread.tags.map((tag, index) => (\n                <span key={index}>{tag}</span>\n              ))\n            : \"\"}\n        </div>\n      </div>\n      <div className=\"comments vertical-centering\">\n        <p>{props.thread.count - 1} comments</p>\n      </div>\n    </div>\n  );\n\n  if (props.clickable) {\n    return (\n      <Link\n        className=\"thread\"\n        to={{\n          pathname: \"/thread/\" + props.thread.id,\n          state: { threadId: props.thread.id },\n        }}\n      >\n        {htmlContent}\n      </Link>\n    );\n  } else {\n    return <div className=\"thread\">{htmlContent}</div>;\n  }\n};\n\nexport default Thread;\n","import React from \"react\";\nimport Thread from \"../thread\";\n\nfunction ThreadList(props) {\n  const threads = props.threads;\n  const listItems = threads.map((thread) => (\n    <Thread\n      titleOfPage={false}\n      clickable={true}\n      key={thread.id}\n      thread={thread}\n    />\n  ));\n  return <React.Fragment>{listItems}</React.Fragment>;\n}\n\nexport default ThreadList;\n","import React from \"react\";\n\nfunction PageHead(props) {\n  return (\n    <div className=\"page-head\">\n      <h1>{props.title}</h1>\n    </div>\n  );\n}\n\nexport default PageHead;\n","import React, { useEffect, useRef } from \"react\";\nimport \"./search-bar.css\";\n\nconst SearchBar = (props) => {\n  const inputRef = useRef();\n  const SearchButtonRef = useRef();\n\n  const triggerEvent = (event) => {\n    // Number 13 is the \"Enter\" key on the keyboard\n    if (event.keyCode === 13) {\n      // Cancel the default action, if needed\n      event.preventDefault();\n      // Trigger the button element with a click\n      SearchButtonRef.current.click();\n    }\n  };\n\n  const initialSetup = () => {\n    if (inputRef.current) {\n      // Execute a function when the user releases a key on the keyboard\n      inputRef.current.addEventListener(\"keyup\", triggerEvent);\n      // Remove on destroy\n      return () => {\n        inputRef.current.removeEventListener(\"keyup\", triggerEvent);\n      };\n    }\n  };\n\n  useEffect(initialSetup, []);\n\n  return (\n    <div className=\"search-bar\">\n      <input\n        ref={inputRef}\n        id=\"search\"\n        alt=\"search\"\n        name=\"search\"\n        placeholder=\"Search for thread\"\n        aria-label=\"Search for thread\"\n        type=\"text\"\n        value={props.value}\n        onChange={(event) => props.onSearch(event.target.value)}\n      ></input>\n      <button\n        ref={SearchButtonRef}\n        aria-label=\"Search in Threads\"\n        onClick={props.search}\n      >\n        Search\n      </button>\n    </div>\n  );\n};\n\nexport default SearchBar;\n","import React, { useEffect, useState } from \"react\";\nimport \"./feed.css\";\nimport { getAllThreads, searchAllThreads } from \"../../api/thread\";\nimport ThreadList from \"../../components/thread-list\";\nimport Loader from \"react-loader-spinner\";\nimport PageHead from \"../../components/page-head\";\nimport { Link } from \"react-router-dom\";\nimport SearchBar from \"../../components/search-bar\";\nimport ReactPaginate from \"react-paginate\";\n\nconst Feed = (props) => {\n  const [threads, setThreads] = useState([]);\n  const [searchThreads, setSearchThreads] = useState([]);\n  const [visibleThreads, setVisibleThreads] = useState([]);\n\n  const [dataAvailable, setDataAvailable] = useState(false);\n  const [searchDone, setSearchDone] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(0);\n\n  const PER_PAGE = 10;\n  const offset = currentPage * PER_PAGE;\n\n  const triggerSearch = () => {\n    if (searchTerm !== \"\") {\n      onSearch(searchTerm);\n    } else {\n      setSearchThreads(threads);\n    }\n  };\n\n  useEffect(() => {\n    if (searchThreads.length > 0) {\n      // search list\n      const currentPageData = searchThreads.slice(offset, offset + PER_PAGE);\n      setVisibleThreads(currentPageData);\n    } else {\n      const currentPageData = threads.slice(offset, offset + PER_PAGE);\n      setVisibleThreads(currentPageData);\n    }\n  }, [threads, searchThreads, offset]);\n\n  function handlePageClick({ selected: selectedPage }) {\n    setCurrentPage(selectedPage);\n  }\n\n  useEffect(() => {\n    getAllThreads()\n      .then((response) => {\n        // Insert users\n        setThreads(response.data);\n\n        // Let UI know that the users are available\n        setDataAvailable(true);\n      })\n      .catch((err) => {\n        // TODO: Show error message\n        console.error(\"Failed to get all threads\", err);\n      });\n  }, []);\n\n  const onSearch = (term) => {\n    setDataAvailable(false);\n    searchAllThreads(term)\n      .then((response) => {\n        // Insert users\n        setSearchThreads(response.data);\n\n        // Let UI know that the users are available\n        setDataAvailable(true);\n        setSearchDone(true);\n\n        // update the pagination\n      })\n      .catch((err) => {\n        // TODO: Show error message\n        console.error(\"Failed to get all threads\", err);\n      });\n  };\n\n  const resetSearch = () => {\n    setSearchTerm(\"\");\n    setSearchThreads([]);\n    setSearchDone(false);\n  };\n\n  return (\n    <div className=\"feed\">\n      <PageHead className=\"title\" title=\"Home\" />\n\n      <div className=\"container\">\n        {\n          // Show loader until we load the user list\n          dataAvailable ? (\n            <React.Fragment>\n              <ReactPaginate\n                previousLabel={\"← Previous\"}\n                nextLabel={\"Next →\"}\n                pageCount={Math.ceil(\n                  (searchThreads.length > 0\n                    ? searchThreads.length\n                    : threads.length) / PER_PAGE\n                )}\n                onPageChange={handlePageClick}\n                containerClassName={\"pagination\"}\n                previousLinkClassName={\"pagination__link\"}\n                nextLinkClassName={\"pagination__link\"}\n                disabledClassName={\"pagination__link--disabled\"}\n                activeClassName={\"pagination__link--active\"}\n              />\n              <ThreadList threads={visibleThreads} />\n              <ReactPaginate\n                previousLabel={\"← Previous\"}\n                nextLabel={\"Next →\"}\n                pageCount={Math.ceil(\n                  (searchThreads.length > 0\n                    ? searchThreads.length\n                    : threads.length) / PER_PAGE\n                )}\n                onPageChange={handlePageClick}\n                containerClassName={\"pagination\"}\n                previousLinkClassName={\"pagination__link\"}\n                nextLinkClassName={\"pagination__link\"}\n                disabledClassName={\"pagination__link--disabled\"}\n                activeClassName={\"pagination__link--active\"}\n              />\n            </React.Fragment>\n          ) : (\n            <Loader\n              type=\"Puff\"\n              color=\"#4f5d75\"\n              height={100}\n              width={100}\n              className=\"loader\"\n            />\n          )\n        }\n      </div>\n\n      <div className=\"aside\">\n        <Link to=\"/thread/new_thread\">\n          <div className=\"create-new-thread\">Create new thread</div>\n        </Link>\n        <SearchBar\n          value={searchTerm}\n          search={triggerSearch}\n          onSearch={setSearchTerm}\n        />\n        {searchDone ? (\n          <button onClick={resetSearch} className=\"search-info\">\n            {searchThreads.length > 0 ? \"Reset search\" : \"No threads found\"}\n          </button>\n        ) : (\n          \"\"\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Feed;\n","import axios from \"axios\";\nimport env from \"../config/env\";\nimport { currentUser } from \"../service/user.service\";\n\nexport const getAllThreads = () => {\n  return axios.get(env[process.env.NODE_ENV].api + \"/thread/all\");\n};\n\nexport const searchAllThreads = (searchTerm) => {\n  return axios.get(\n    env[process.env.NODE_ENV].api + \"/thread/search?searchTerm=\" + searchTerm\n  );\n};\n\nexport const getThread = (id) => {\n  return axios.get(env[process.env.NODE_ENV].api + \"/thread/one?id=\" + id);\n};\n\nexport const addThread = (payload) => {\n  payload.userId = currentUser.id;\n  return axios.post(env[process.env.NODE_ENV].api + \"/thread/add\", payload);\n};\n\nexport const addPost = (payload) => {\n  payload.userId = currentUser.id;\n  return axios.post(\n    env[process.env.NODE_ENV].api + \"/thread/add-post\",\n    payload\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"./post.css\";\nimport {\n  convertDate,\n  getRandomBackgroundColor,\n  convertDateToFromNow,\n} from \"../../service/helper\";\n\nconst Post = (props) => {\n  const [date, setDate] = useState(\"\");\n  const [dateUser, setDateUser] = useState(\"\");\n  const [color, setColor] = useState({});\n\n  const initialSetup = () => {\n    setDate(convertDate(props.post.created));\n    setColor(\n      getRandomBackgroundColor(\n        props.post.user[0] ? props.post.user[0].name : \"unknown\"\n      )\n    );\n    setDateUser(\n      props.post.user[0]\n        ? convertDateToFromNow(props.post.user[0].created)\n        : \"unknown\"\n    );\n  };\n\n  useEffect(initialSetup, []);\n\n  return (\n    <div className=\"post-container\">\n      <div className=\"header\">{date}</div>\n      <div className=\"content\">\n        <div className=\"left\">\n          <div className=\"icon\" style={color}>\n            {(props.post.user[0]\n              ? props.post.user[0].name\n              : \"unknown\"\n            ).substring(0, 2)}\n          </div>\n          <p>{props.post.user[0] ? props.post.user[0].name : \"unknown\"}</p>\n          <p className=\"date\">Joined: {dateUser}</p>\n        </div>\n        <div className=\"right\">{props.post.content}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport Post from \"../post\";\n\nfunction PostList(props) {\n  const posts = props.posts;\n  const listItems = posts.map((post, index) => (\n    <Post key={index} post={post} />\n  ));\n  return <div className=\"post-list\">{listItems}</div>;\n}\n\nexport default PostList;\n","import React, { useState, useEffect } from \"react\";\nimport { addPost } from \"../../api/thread\";\nimport { currentUser } from \"../../service/user.service\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport \"./new-post.css\";\n\nconst NewPost = (props) => {\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(undefined);\n  const [threadId, setThreadId] = useState(undefined);\n  const [location, setLocation] = useState(undefined);\n  const [needToLogin, setNeedToLogin] = useState(false);\n\n  const initialSetup = () => {\n    setThreadId(props.threadId);\n    if (!currentUser.id) {\n      setNeedToLogin(true);\n    }\n  };\n\n  useEffect(initialSetup, []);\n\n  const handleClick = () => {\n    var payload = {\n      threadId: threadId,\n      message: message,\n      location: JSON.stringify(location),\n    };\n\n    addPost(payload)\n      .then((response) => {\n        if (response.status === 200) {\n          // link to thread page\n          const data = response.data;\n          // convert to post object\n          const post = {\n            active: data.active,\n            content: data.content,\n            created: data.created,\n            user: [\n              {\n                name: currentUser.name,\n                id: currentUser.id,\n              },\n            ],\n          };\n          props.success(post);\n\n          // clear data\n          setMessage(\"\");\n          setLocation(undefined);\n        } else if (response.status === 202) {\n          setError(response.data);\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const askLocation = () => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((position) => {\n        setLocation({\n          lat: position.coords.latitude,\n          long: position.coords.longitude,\n        });\n      });\n    } else {\n      setError(\"Geolocation is not supported by this browser.\");\n    }\n  };\n\n  if (needToLogin) {\n    return (\n      <div id={props.id} className=\"new-post\">\n        Please sign-in/sign-up to add a post.\n        <Link\n          to={{\n            pathname: \"/login\",\n            state: { from: props.location },\n          }}\n        >\n          <p className=\"button\">Go to sign-in/sign-up</p>\n        </Link>\n      </div>\n    );\n  } else {\n    return (\n      <div id={props.id} className=\"new-post\">\n        <h2>Add post:</h2>\n        <textarea\n          id=\"message\"\n          alt=\"message\"\n          name=\"message\"\n          aria-label=\"New post message\"\n          onChange={(event) => setMessage(event.target.value)}\n        ></textarea>\n        <div className=\"location\">\n          <label htmlFor=\"location\">Share location: </label>\n          <input\n            aria-label=\"Enable share location\"\n            onChange={askLocation}\n            type=\"checkbox\"\n          ></input>\n        </div>\n        <button aria-label=\"Add post to thread\" onClick={handleClick}>\n          Submit\n        </button>\n        <div>{error ? error : \"\"}</div>\n      </div>\n    );\n  }\n};\n\nexport default withRouter(NewPost);\n","import React, { useState, useEffect } from \"react\";\nimport \"./thread.css\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { getThread } from \"../../api/thread\";\nimport Loader from \"react-loader-spinner\";\nimport PostList from \"../../components/post-list\";\nimport NewPost from \"../../components/new-post\";\nimport Thread from \"../../components/thread\";\nimport ReactPaginate from \"react-paginate\";\n\nconst ThreadPage = (props) => {\n  // declare states\n  const [id, setId] = useState(undefined);\n  const [redirectToHome, setRedirectToHome] = useState(false);\n  const [threadLoaded, setThreadLoaded] = useState(false);\n  const [thread, setThread] = useState({});\n  const [posts, setPosts] = useState([]);\n  const [visiblePosts, setVisiblePosts] = useState([]);\n  const [currentPage, setCurrentPage] = useState(0);\n\n  const PER_PAGE = 10;\n  const offset = currentPage * PER_PAGE;\n\n  function handlePageClick({ selected: selectedPage }) {\n    setCurrentPage(selectedPage);\n  }\n\n  // Get thread here\n  const initialSetup = () => {\n    if (\n      props.location &&\n      props.location.state &&\n      props.location.state.threadId\n    ) {\n      setId(props.location.state.threadId);\n    } else if (props.match && props.match.params && props.match.params.thread) {\n      setId(props.match.params.thread);\n    } else {\n      setRedirectToHome(true);\n    }\n  };\n\n  useEffect(initialSetup, []);\n\n  useEffect(() => {\n    const currentPageData = posts.slice(offset, offset + PER_PAGE);\n    setVisiblePosts(currentPageData);\n  }, [currentPage, offset, posts]);\n\n  useEffect(() => {\n    const getPosts = () => {\n      getThread(id)\n        .then((response) => {\n          if (response.status === 200) {\n            if (\n              response.data &&\n              response.data.length &&\n              response.data.length > 0\n            ) {\n              const temp = response.data[0];\n              temp.post = response.data[0].posts[0];\n              temp.count = response.data[0].posts.length;\n\n              setThread(temp);\n              setPosts(response.data[0].posts);\n              setThreadLoaded(true);\n            }\n          } else if (response.status === 202) {\n            console.error(\"error\", response.data);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    };\n    if (id) {\n      getPosts();\n    }\n  }, [id]);\n\n  const addPostToList = (post) => {\n    setPosts(() => [...posts, post]);\n  };\n\n  const scrollToNewPost = () => {\n    const newPost = document.getElementById(\"new-post\");\n    newPost.scrollIntoView(true);\n  };\n\n  if (redirectToHome === true) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <div className=\"thread\">\n      {\n        // Show loader until we load the user list\n        threadLoaded ? (\n          // posts here\n          <div>\n            <Thread titleOfPage={true} clickable={false} thread={thread} />\n\n            <div className=\"content\">\n              <ReactPaginate\n                previousLabel={\"← Previous\"}\n                nextLabel={\"Next →\"}\n                pageCount={Math.ceil(posts.length / PER_PAGE)}\n                onPageChange={handlePageClick}\n                containerClassName={\"pagination\"}\n                previousLinkClassName={\"pagination__link\"}\n                nextLinkClassName={\"pagination__link\"}\n                disabledClassName={\"pagination__link--disabled\"}\n                activeClassName={\"pagination__link--active\"}\n              />\n              <PostList posts={visiblePosts} />\n              <ReactPaginate\n                previousLabel={\"← Previous\"}\n                nextLabel={\"Next →\"}\n                pageCount={Math.ceil(posts.length / PER_PAGE)}\n                onPageChange={handlePageClick}\n                containerClassName={\"pagination\"}\n                previousLinkClassName={\"pagination__link\"}\n                nextLinkClassName={\"pagination__link\"}\n                disabledClassName={\"pagination__link--disabled\"}\n                activeClassName={\"pagination__link--active\"}\n              />\n              <div className=\"aside\">\n                <button className=\"create-new-post\" onClick={scrollToNewPost}>\n                  Create new post\n                </button>\n              </div>\n            </div>\n\n            <br />\n            <NewPost\n              id=\"new-post\"\n              success={addPostToList}\n              threadId={thread.id}\n            />\n          </div>\n        ) : (\n          <Loader\n            type=\"Puff\"\n            color=\"#4f5d75;\"\n            height={100}\n            width={100}\n            className=\"loader\"\n          />\n        )\n      }\n    </div>\n  );\n};\n\nexport default withRouter(ThreadPage);\n","import React from \"react\";\n\nconst NotFound = () => {\n  return <h3>Url not found.</h3>;\n};\n\nexport default NotFound;\n","import React, { useState } from \"react\";\nimport \"./new-thread.css\";\nimport { addThread } from \"../../api/thread\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport TagsInput from \"react-tagsinput\";\n\nconst NewThread = (props) => {\n  const [subject, setSubject] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [tags, setTags] = useState([]);\n  const [error, setError] = useState(undefined);\n  const [threadId, setThreadId] = useState(undefined);\n  const [redirect, setRedirect] = useState(false);\n\n  const handleClick = () => {\n    if (subject === \"\" || message === \"\") {\n      setError(\"Please fill in all fields\");\n      return;\n    }\n\n    var payload = {\n      subject: subject,\n      message: message,\n      tags: JSON.stringify(tags),\n    };\n\n    addThread(payload)\n      .then((response) => {\n        if (response.status === 200) {\n          // link to thread page\n          setThreadId(response.data.id);\n          setRedirect(true);\n        } else if (response.status === 202) {\n          setError(response.data);\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  if (redirect === true) {\n    return (\n      <Redirect\n        to={{\n          pathname: \"/thread/\" + threadId,\n          state: { threadId: threadId },\n        }}\n      />\n    );\n  }\n\n  return (\n    <div className=\"new-thread\">\n      <h1>Add a thread</h1>\n\n      <div>\n        <label htmlFor=\"subject\">Subject: </label>\n        <input\n          id=\"subject\"\n          alt=\"subject\"\n          name=\"subject\"\n          placeholder=\"Enter thread subject\"\n          type=\"text\"\n          onChange={(event) => setSubject(event.target.value)}\n        ></input>\n      </div>\n\n      <div>\n        <label htmlFor=\"message\">Message: </label>\n        <textarea\n          id=\"message\"\n          alt=\"message\"\n          name=\"message\"\n          onChange={(event) => setMessage(event.target.value)}\n        ></textarea>\n      </div>\n      <div>\n        <label htmlFor=\"tags\">Tags: </label>\n        <TagsInput\n          inputProps={{\n            \"aria-label\": \"Add a tag to the new thread\",\n          }}\n          id=\"tags\"\n          value={tags}\n          onChange={setTags}\n        />\n      </div>\n\n      <button aria-label=\"Create a new thread\" onClick={handleClick}>\n        Submit\n      </button>\n\n      <div className=\"error\">{error ? error : \"\"}</div>\n    </div>\n  );\n};\n\nexport default withRouter(NewThread);\n","import React, { useState } from \"react\";\nimport { signInUser } from \"../../api/user\";\nimport sha256 from \"crypto-js/sha256\";\n\nconst Login = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(undefined);\n\n  const handlePassword = (pass) => setPassword(sha256(pass).toString());\n\n  const handleClick = () => {\n    if (username === \"\" || password === \"\") {\n      setError(\"Please fill in all fields\");\n      return;\n    }\n    var payload = {\n      email: username,\n      password: password,\n    };\n\n    signInUser(payload)\n      .then((response) => {\n        if (response.status === 200) {\n          props.success(response.data);\n        } else if (response.status === 202) {\n          setError(response.data);\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  return (\n    <div className=\"container\">\n      <div onClick={props.changeMode} className=\"top-right-corner\">\n        Sign-up\n      </div>\n      <h1>Sign-in</h1>\n\n      <div>\n        <label htmlFor=\"email\">Email: </label>\n        <input\n          id=\"email\"\n          alt=\"email\"\n          autoFocus\n          name=\"username\"\n          placeholder=\"Enter your Email\"\n          type=\"text\"\n          onChange={(event) => setUsername(event.target.value)}\n        ></input>\n      </div>\n\n      <div>\n        <label htmlFor=\"password\">Password: </label>\n        <input\n          id=\"password\"\n          alt=\"password\"\n          name=\"password\"\n          placeholder=\"Enter your Password\"\n          type=\"password\"\n          onChange={(event) => handlePassword(event.target.value)}\n        ></input>\n      </div>\n\n      <button aria-label=\"Sign into forum\" onClick={handleClick}>\n        Sign-in\n      </button>\n\n      <div className=\"error\">{error ? error : \"\"}</div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { signUpUser } from \"../../api/user\";\nimport sha256 from \"crypto-js/sha256\";\n\nconst Register = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(undefined);\n\n  const handleClick = () => {\n    if (username === \"\" || password === \"\" || email === \"\") {\n      setError(\"Please fill in all fields\");\n      return;\n    }\n\n    // TODO: validate values\n    var payload = {\n      name: username,\n      email: email,\n      hashed_password: password,\n    };\n\n    signUpUser(payload)\n      .then((response) => {\n        if (response.status === 200) {\n          props.success(response.data);\n        } else if (response.status === 202) {\n          setError(response.data);\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n\n  const handlePassword = (pass) => setPassword(sha256(pass).toString());\n\n  return (\n    <div className=\"container\">\n      <div onClick={props.changeMode} className=\"top-right-corner\">\n        Sign-in\n      </div>\n      <h1>Sign-up</h1>\n\n      <div>\n        <label htmlFor=\"name\">Username: </label>\n        <input\n          id=\"name\"\n          alt=\"name\"\n          autoFocus\n          name=\"name\"\n          placeholder=\"Enter your username\"\n          type=\"text\"\n          onChange={(event) => setUsername(event.target.value)}\n        ></input>\n      </div>\n\n      <div>\n        <label htmlFor=\"email\">Email: </label>\n        <input\n          id=\"email\"\n          alt=\"email\"\n          name=\"username\"\n          placeholder=\"Enter your Email\"\n          type=\"text\"\n          onChange={(event) => setEmail(event.target.value)}\n        ></input>\n      </div>\n\n      <div>\n        <label htmlFor=\"password\">Password: </label>\n        <input\n          id=\"password\"\n          alt=\"password\"\n          name=\"password\"\n          placeholder=\"Enter your Password\"\n          type=\"password\"\n          onChange={(event) => handlePassword(event.target.value)}\n        ></input>\n      </div>\n\n      <button aria-label=\"Sign up to forum\" onClick={handleClick}>\n        Sign-up\n      </button>\n\n      <div className=\"error\">{error ? error : \"\"}</div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useState } from \"react\";\nimport \"./authenticate.css\";\nimport { addUser } from \"../../service/user.service\";\nimport { withRouter, Redirect } from \"react-router-dom\";\n\nimport SignIn from \"../../components/sign-in\";\nimport SignUp from \"../../components/sign-up\";\n\nconst Authenticate = (props) => {\n  const [login, setLogin] = useState(true);\n  const [redirectToReferrer, setRedirectToReferrer] = useState(false);\n  const { from } = props.location.state || { from: { pathname: \"/\" } };\n\n  const loginSuccess = (data) => {\n    addUser(data);\n    setRedirectToReferrer(true);\n  };\n\n  const changeLoginMode = () => {\n    setLogin(!login);\n  };\n\n  if (redirectToReferrer === true) {\n    return <Redirect to={from} />;\n  }\n\n  return (\n    <div className=\"auth-container\">\n      {login ? (\n        <SignIn changeMode={changeLoginMode} success={loginSuccess} />\n      ) : (\n        <SignUp changeMode={changeLoginMode} success={loginSuccess} />\n      )}\n    </div>\n  );\n};\n\nexport default withRouter(Authenticate);\n","import React from \"react\";\nimport \"./header.css\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { currentUser, logOut } from \"../../service/user.service\";\n\n// Change the page in router to the correct querystring\n// uses react-router linking\n// we can restyle this to be in a nav bar\n\nconst Header = (props) => {\n  return (\n    <header role=\"banner\" className=\"active\" id=\"scroll-header\">\n      <nav role=\"navigation\" className=\"menu\">\n        <Link aria-label=\"Navigate to Home page\" to=\"/\">\n          Home\n        </Link>\n        <Link aria-label=\"Navigate to new thread page\" to=\"/thread/new_thread\">\n          New thread\n        </Link>\n        <Link aria-label=\"Navigate to statistics page\" to=\"/stats\">\n          Stats\n        </Link>\n      </nav>\n      <div className=\"login\">\n        {currentUser.id ? (\n          <div>\n            <div className=\"user\">Hello {currentUser.name}</div>\n            <button onClick={logOut} aria-label=\"Logout button\">\n              {\" \"}\n              Logout{\" \"}\n            </button>\n          </div>\n        ) : (\n          <Link\n            to={{\n              pathname: \"/login\",\n              state: { from: props.location },\n            }}\n          >\n            Sign-In/Sign-up\n          </Link>\n        )}\n      </div>\n    </header>\n  );\n};\n\nexport default withRouter(Header);\n","import React, { useEffect, useState } from \"react\";\nimport \"./footer.css\";\n\nconst Footer = () => {\n  const [windowHeight, setWindowHeight] = useState(0);\n  const [forumHeight, setForumHeight] = useState(0);\n  const [className, setClassName] = useState(\"\");\n\n  const setWindow = (event) => {\n    setWindowHeight(event.target.innerHeight);\n  };\n\n  const attachResizeObserver = () => {\n    // Set initial window height\n    setWindowHeight(window.innerHeight);\n\n    // Keep track of the window changes\n    window.addEventListener(\"resize\", setWindow);\n\n    // Add observer for the forum body\n    var observer = new ResizeObserver((entries) => {\n      for (let entry of entries) {\n        const cr = entry.contentRect;\n        setForumHeight(cr.height + cr.top);\n      }\n    });\n\n    // Observe one or multiple elements\n    const forumBody = document.getElementById(\"forum-body\");\n    observer.observe(forumBody);\n\n    return () => {\n      window.removeEventListener(\"resize\", setWindow);\n      observer.unobserve(forumBody);\n    };\n  };\n\n  useEffect(attachResizeObserver, []);\n\n  useEffect(() => {\n    if (windowHeight > forumHeight) {\n      setClassName(\"bottom\");\n    } else {\n      setClassName(\"\");\n    }\n  }, [windowHeight, forumHeight]);\n\n  return (\n    <footer role=\"contentinfo\" className={className}>\n      <div className=\"copyright\">\n        Copyright © 2020, David Pan and Emile Ferrand\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Switch, Route, HashRouter as Router } from \"react-router-dom\";\n// Route\nimport AuthenticatedRoute from \"./components/authenticated-route\";\n\n// Pages\nimport Stats from \"./views/stats\";\nimport Feed from \"./views/feed\";\nimport Thread from \"./views/thread\";\nimport NotFound from \"./views/not-found\";\nimport NewThread from \"./views/new-thread\";\nimport Authenticate from \"./views/authenticate\";\n\n// Components\nimport Header from \"./components/header\";\nimport Footer from \"./components/footer\";\n\n// Services\nimport { getUser } from \"./service/user.service\";\n\n// Load cached user\ngetUser();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Header />\n      <div role=\"main\" id=\"forum-body\" className=\"forum-body\">\n        <Switch>\n          <Route exact path=\"/\" component={Feed} />\n          <Route path=\"/stats\" component={Stats} />\n          <AuthenticatedRoute path=\"/thread/new_thread\" component={NewThread} />\n          <Route path=\"/thread/:thread\" component={Thread} />\n          <Route path=\"/login\" component={Authenticate} />\n          <Route path=\"*\" component={NotFound} />\n        </Switch>\n      </div>\n      <Footer />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}